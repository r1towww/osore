//使用するヘッダー
#include "GameL\DrawTexture.h"
#include "GameL\WinInputs.h"
#include "GameL\DrawFont.h"
#include "GameL\SceneManager.h"
#include "GameL/Audio.h"
#include "GameHead.h"
#include "ObjTextBox.h"
#include "ObjTutorial.h"

//----------------------------------
//使用するネームスペース
using namespace GameL;



//イニシャライズ
void CObjTextBox::Init()
{
	m_key_time = 0;
	m_f = true;
	m_text = 0;
}

//アクション
void CObjTextBox::Action()
{
	//惑星が選択され、戦闘画面への移行の際
	if (g_stage == EarthStar)
	{

		//画像が表示された際の、キー入力タイム処理
		if (m_key_time >= 300)
			m_key_time = 300;	//タイムが50になった際、50で止める
		else
			m_key_time++;	//キー入力タイムを増やす

	}
	else
	{
		m_key_time = 0;	//それ以外の場合、キー入力タイムを0にする
	}
	//キータイムが300を超えるとZ可能
	if (m_key_time >= 300)
	{
		//Zキー入力
		if (Input::GetVKey('Z') == true)
		{
			if (m_f == false)
			{
				m_text++;//テキストを進める
				m_key_time = 0;//キータイムをリセットする
				m_f = true;
			}
			else
			{
				m_f = true;
			}
		}
		else
		{
			m_f = false;
		}
	}
}

//ドロー
void CObjTextBox::Draw()
{
	//描画カラー情報
	float c[4] = { 1.0f,1.0f,1.0f,1.0f };

	if (g_tutorial_flag == true)
	{
		Font::StrDraw(L"Zキーで次へ", TEXT_ZX, TEXT_ZY, TEXTSIZE_Z, c);
	}
	//地球
	if (g_stage == EarthStar)
	{
		if (m_text == 0)
		{
			Font::StrDraw(L"Star Reginへようこそ！！", TEXT_X, TEXT_Y1, TEXTSIZE, c);
			Font::StrDraw(L"ここ、地球ステージでは基本的な操作と", TEXT_X, TEXT_Y2, TEXTSIZE, c);
			Font::StrDraw(L"ゲームのクリア条件をお伝えします！", TEXT_X, TEXT_Y3, TEXTSIZE, c);
		}
		else if (m_text == 1)
		{
			Font::StrDraw(L"まずは移動してみましょう", TEXT_X, TEXT_Y1, TEXTSIZE, c);
		}
		else if (m_text == 2)
		{
			Font::StrDraw(L"方向キーで移動することができます", TEXT_X, TEXT_Y1, TEXTSIZE, c);
		}
		else if (m_text == 3)
		{
			Font::StrDraw(L"次にこのゲームのクリア条件は", TEXT_X, TEXT_Y1, TEXTSIZE, c);
			Font::StrDraw(L"各ステージにある星を集めることです", TEXT_X, TEXT_Y2, TEXTSIZE, c);
		}
		else if (m_text == 4)
		{
			Font::StrDraw(L"星を集めきると星座が完成し、", TEXT_X, TEXT_Y1, TEXTSIZE, c);
			Font::StrDraw(L"新しくスキルを使うことができます", TEXT_X, TEXT_Y2, TEXTSIZE, c);
		}
		else if (m_text == 5)
		{
			Font::StrDraw(L"それでは星を集めてみましょう", TEXT_X, TEXT_Y1, TEXTSIZE, c);
		
		}
	}
	//else if (g_stage == VenusTaurus)
	//{
	//	if (m_text == 0)
	//	{
	//		Font::StrDraw(L"テスト", 150, 450, 32, c);
	//	}
	//	else if (m_text == 1)
	//	{
	//		Font::StrDraw(L"テスト2", 150, 450, 32, c);
	//	}
	//	else if (m_text == 2)
	//	{
	//		Font::StrDraw(L"テスト3", 150, 450, 32, c);
	//	}
	//	else if (m_text == 3)
	//	{
	//		Font::StrDraw(L"テスト4", 150, 450, 32, c);
	//	}
	//	else if (m_text == 4)
	//	{
	//		Font::StrDraw(L"テスト5", 150, 450, 32, c);
	//	}

	//}
	

}
